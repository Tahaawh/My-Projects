باشه، از همین‌جا Hyprland را از صفر، به‌صورت تمیز، استاندارد و بدون تداخل با GNOME روی Arch نصب می‌کنیم.
مراحل دقیق، کامل و قابل اجرا هستند. فقط کافی است قدم‌به‌قدم دنبال کنی.

شروع کنیم.

مرحله ۱ — به‌روزرسانی سیستم

(در GNOME اجرا کن)

sudo pacman -Syu


⸻

مرحله ۲ — نصب Hyprland و پکیج‌های ضروری

این مجموعه، کامل‌ترین و مینیمال‌ترین نصب استاندارد Hyprland است:

sudo pacman -S hyprland \
xdg-desktop-portal-hyprland \
waybar \
rofi-wayland \
kitty \
wlogout \
swaybg \
swaylock \
swayidle \
brightnessctl \
pavucontrol \
blueman \
network-manager-applet \
thunar \
grim slurp swappy \
ttf-jetbrains-mono-nerd

توضیح کوتاه:
	•	hyprland → خود محیط
	•	portal → برای screen share و پرمیشن‌ها
	•	waybar → نوار وضعیت
	•	rofi-wayland → لانچر
	•	kitty → ترمینال
	•	grim/slurp/swappy → اسکرین‌شات
	•	swaybg → والپیپر
	•	thunar → فایل منیجر سبک

GNOME آسیب نمی‌بیند، همه جداگانه نصب می‌شود.

⸻

مرحله ۳ — ساخت فولدرهای کانفیگ

(اگر قبلاً پاک شده‌اند، دوباره بساز)

mkdir -p ~/.config/hypr
mkdir -p ~/.config/waybar
mkdir -p ~/.config/rofi
mkdir -p ~/.config/wlogout


⸻

مرحله ۴ — تولید کانفیگ اولیه برای Hyprland

یک کانفیگ امن و استاندارد برای شروع:

nano ~/.config/hypr/hyprland.conf

داخلش این را قرار بده:

monitor=,preferred,auto,1

exec-once = waybar
exec-once = nm-applet
exec-once = blueman-applet

input {
    kb_layout = us
    follow_mouse = 1
}

general {
    gaps_in = 5
    gaps_out = 20
    border_size = 2
    resize_on_border = true
}

decoration {
    rounding = 10
}

animations {
    enabled = true
}

# Keybinds
bind = SUPER,Return,exec,kitty
bind = SUPER,D,exec,rofi -show drun
bind = SUPER,Q,killactive,
bind = SUPER,E,exec,thunar
bind = SUPER,L,exec,swaylock

سیو کن:
Ctrl + O
Enter
Ctrl + X

⸻

مرحله ۵ — ساخت کانفیگ Waybar مینیمال

nano ~/.config/waybar/config.jsonc

داخلش:

{
  "layer": "top",
  "position": "top",
  "modules-left": ["workspaces"],
  "modules-center": ["clock"],
  "modules-right": ["cpu", "memory", "network", "pulseaudio"]
}


⸻

مرحله ۶ — فعال کردن GDM Session

Hyprland باید در منوی لاگین دیده شود.

این فایل باید وجود داشته باشد:

ls /usr/share/wayland-sessions | grep hypr

اگر hyprland.desktop وجود دارد → آماده‌ای.
اگر نیست بگو تا بسازیم.
متوجه شدم — پس فایل سشن Hyprland در سیستم تو وجود ندارد و باید آن را بسازیم تا در GDM ظاهر شود.

الان دقیقاً همان مرحله را از صفر انجام می‌دهیم.

⸻

ساخت فایل Session برای Hyprland (برای GDM)
	1.	دستور زیر را بزن تا فایل سشن جدید ساخته شود:

sudo nano /usr/share/wayland-sessions/hyprland.desktop

	2.	داخل فایل، این متن را قرار بده:

[Desktop Entry]
Name=Hyprland
Comment=Hyprland Session
Exec=Hyprland
Type=Application
DesktopNames=Hyprland

	3.	فایل را ذخیره کن:

	•	Ctrl + O
	•	Enter
	•	Ctrl + X

	4.	حالا دوباره چک کن که فایل ساخته شده باشد:

ls /usr/share/wayland-sessions

باید ببینی:

hyprland.desktop


⸻

مرحله بعد چیست؟

حالا که فایل Session ساخته شد:

۱. از GNOME لاگ‌اوت کن

2. در صفحه Login روی دکمه Options / Gear بزن

3. گزینه Hyprland را انتخاب کن

4. وارد محیط Hyprland شو

اگر وارد شدی بگو، تا مرحله نهایی (راه‌اندازی دات‌فایل‌ها) را تکمیل کنیم.
⸻

مرحله ۷ — ری‌استارت و ورود به Hyprland

Logout → در صفحه ورود:

Hyprland را انتخاب کن.
(نه GNOME و نه uwsm)

وارد محیط می‌شوی.

⸻

مرحله ۸ — تست نوار، لانچر و…

در محیط Hyprland:
	•	SUPER + Enter → ترمینال
	•	SUPER + D → Rofi
	•	SUPER + E → Thunar
	•	SUPER + Q → بستن پنجره
	•	SUPER + L → قفل
	•	Waybar باید بالا باشد
	•	ماوس و انیمیشن‌ها باید روان باشند

اگر مشکلی دیدی، همین‌جا بگو.

⸻

مرحله ۹ — آماده‌سازی برای نصب Dotfile

وقتی Hyprland سالم اجرا شد، می‌توانیم:
	•	dotfile manager نصب کنیم
	•	یک دات‌فایل حرفه‌ای import کنیم
	•	همه چیز را کاملاً شخصی‌سازی کنیم

⸻

الان بگو:

وارد Hyprland شدی؟

اگر وارد شدی و محیط آمد، مرحله بعدی (نصب Dotfile) را شروع می‌کنیم.